{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import axios from'axios';import{Typography,Paper,Container,Box,Button,Grid,Divider,List,ListItem,ListItemText,Chip,Card,CardContent,CircularProgress,Alert}from'@mui/material';import{ArrowBack as ArrowBackIcon,Event as EventIcon,CheckCircle as CheckCircleIcon,Cancel as CancelIcon,Schedule as PendingIcon,CalendarToday as DateIcon}from'@mui/icons-material';import{useParams,useNavigate}from'react-router-dom';import{AuthContext}from'../../context/AuthContext';// Helper function to format dates nicely\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatDate=dateString=>{if(!dateString)return'N/A';const options={year:'numeric',month:'long',day:'numeric'};return new Date(dateString).toLocaleDateString(undefined,options);};// Custom component to display status badge with explanation\nconst StatusBadge=_ref=>{let{status,reviewedBy,reviewedAt}=_ref;let color='default';let icon=/*#__PURE__*/_jsx(PendingIcon,{});let label=status||'Pending';let explanation='';switch((label||'').toLowerCase()){case'approved':color='success';icon=/*#__PURE__*/_jsx(CheckCircleIcon,{});explanation=reviewedBy?`Approved by ${reviewedBy} on ${formatDate(reviewedAt)}`:'Your declaration has been approved by the medical staff';break;case'rejected':color='error';icon=/*#__PURE__*/_jsx(CancelIcon,{});explanation=reviewedBy?`Rejected by ${reviewedBy} on ${formatDate(reviewedAt)}`:'Changes are required for your declaration';break;case'pending':default:color='warning';icon=/*#__PURE__*/_jsx(PendingIcon,{});label='Pending';explanation='Your declaration is waiting for review by the medical staff';break;}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Chip,{icon:icon,label:label,color:color,variant:\"outlined\",sx:{fontWeight:'medium',mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{ml:1},children:explanation})]});};// Component to display info sections with title and content\nconst InfoSection=_ref2=>{let{title,children,elevation=1,sx={}}=_ref2;return/*#__PURE__*/_jsxs(Paper,{elevation:elevation,sx:{p:3,mb:3,...sx},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,color:\"primary\",children:title}),/*#__PURE__*/_jsx(Box,{mt:1,children:children})]});};// Component to display array items like allergies, chronic illnesses\nconst ItemList=_ref3=>{let{items,emptyMessage=\"None reported\"}=_ref3;const filteredItems=Array.isArray(items)?items.filter(item=>item&&typeof item==='string'&&item.trim()!==''):[];if(!filteredItems.length){return/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:emptyMessage});}return/*#__PURE__*/_jsx(List,{dense:true,disablePadding:true,children:filteredItems.map((item,index)=>/*#__PURE__*/_jsx(ListItem,{disablePadding:true,sx:{py:0.5},children:/*#__PURE__*/_jsx(ListItemText,{primary:item})},index))});};const HealthDeclarationDetailPage=()=>{var _declaration$status,_declaration$status2,_declaration$status3,_declaration$status4,_declaration$status5;const{declarationId}=useParams();const navigate=useNavigate();const{currentUser}=useContext(AuthContext);const[declaration,setDeclaration]=useState(null);const[student,setStudent]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Fetch declaration data\nuseEffect(()=>{const fetchDeclarationDetails=async()=>{// Check if declarationId is valid\nif(!declarationId||declarationId==='undefined'||!currentUser){setError('Invalid declaration ID provided');setLoading(false);return;}setLoading(true);setError(null);try{var _response$data;const token=localStorage.getItem('token');// Fetch declaration details\nconst response=await axios.get(`/api/health-declaration/${declarationId}`,{headers:{Authorization:`Bearer ${token}`}});setDeclaration(response.data);// Also fetch student details if we have a student code\nif((_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.studentCode){try{const studentResponse=await axios.get(`/api/students/${response.data.studentCode}`,{headers:{Authorization:`Bearer ${token}`}});setStudent(studentResponse.data);}catch(studentErr){console.error('Error fetching student details:',studentErr);// We don't set the main error here as the declaration data was still retrieved\n}}}catch(err){var _err$response,_err$response$data;console.error('Error fetching declaration details:',err);setError('Could not load health declaration details. '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'Please try again later.'));}finally{setLoading(false);}};fetchDeclarationDetails();},[declarationId,currentUser]);// Handle back navigation\nconst handleBack=()=>{navigate('/parent/health-records');};if(loading){return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:8},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',flexDirection:'column',py:8},children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mt:2},children:\"Loading health declaration...\"})]})});}if(error){return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:8},children:[/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),onClick:handleBack,variant:\"outlined\",sx:{mb:3},children:\"Back to Health Records\"}),/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error})]});}if(!declaration){return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:8},children:[/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),onClick:handleBack,variant:\"outlined\",sx:{mb:3},children:\"Back to Health Records\"}),/*#__PURE__*/_jsx(Alert,{severity:\"warning\",children:\"Health declaration not found or you may not have permission to view it.\"})]});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:4},children:[\"            \",/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),onClick:handleBack,sx:{mr:2},children:\"Back\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",children:\"Health Declaration Details\"})]}),declaration.status&&/*#__PURE__*/_jsxs(Alert,{severity:declaration.status.toLowerCase()==='approved'?'success':declaration.status.toLowerCase()==='rejected'?'error':'info',sx:{mb:4},variant:\"filled\",children:[declaration.status.toLowerCase()==='approved'&&\"This health declaration has been reviewed and approved by medical staff.\",declaration.status.toLowerCase()==='rejected'&&\"This health declaration requires changes. Please review the feedback and submit a new declaration.\",declaration.status.toLowerCase()==='pending'&&\"This health declaration is pending review by medical staff.\"]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{mb:4,overflow:'hidden'},children:[/*#__PURE__*/_jsx(Box,{sx:{p:3,bgcolor:'primary.main',color:'white'},children:/*#__PURE__*/_jsxs(Grid,{container:true,alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:8,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[(student===null||student===void 0?void 0:student.fullName)||'Student',\"'s Health Declaration\"]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mt:1},children:[/*#__PURE__*/_jsx(DateIcon,{sx:{mr:1,fontSize:'small'}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\"Submitted on \",formatDate(declaration.createdAt||declaration.submissionDate)]})]})]}),\"                        \",/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,sx:{display:'flex',justifyContent:{xs:'flex-start',sm:'flex-end'}},children:/*#__PURE__*/_jsx(StatusBadge,{status:declaration.status||'Pending',reviewedBy:declaration.reviewedBy,reviewedAt:declaration.reviewedAt})})]})}),/*#__PURE__*/_jsx(Box,{p:3,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Student Information\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Name\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:(student===null||student===void 0?void 0:student.fullName)||'N/A'})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Student Code\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.studentCode||'N/A'})]}),(student===null||student===void 0?void 0:student.dateOfBirth)&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Date of Birth\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:formatDate(student.dateOfBirth)})]}),(student===null||student===void 0?void 0:student.classCode)&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Class\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:student.classCode})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Allergies\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(ItemList,{items:declaration.allergies})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Chronic Illnesses\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(ItemList,{items:declaration.chronicIllnesses})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Medical History\",elevation:0,sx:{bgcolor:'background.paper'},children:declaration.medicalHistory?/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.medicalHistory}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No medical history reported\"})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Emergency Contacts\",elevation:0,sx:{bgcolor:'background.paper'},children:declaration.emergencyContacts&&declaration.emergencyContacts.length>0?/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:declaration.emergencyContacts.map((contact,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Card,{variant:\"outlined\",sx:{height:'100%'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",color:\"primary\",children:[contact.name,contact.isEmergency&&/*#__PURE__*/_jsx(Chip,{label:\"Primary\",size:\"small\",color:\"error\",sx:{ml:1}})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:contact.relationship}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:1},children:contact.phone})]})})},index))}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No emergency contacts provided\"})})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Additional Health Information\"})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Vision Status\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.visionStatus||'Not specified'})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Hearing Status\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.hearingStatus||'Not specified'})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Special Needs\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.specialNeeds||'None reported'})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Physical Limitations\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.physicalLimitations||'None reported'})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Mental Health Concerns\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.mentalHealthConcerns||'None reported'})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Dietary Restrictions\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.dietaryRestrictions||'None reported'})})}),declaration.vaccinations&&declaration.vaccinations.length>0&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(InfoSection,{title:\"Vaccinations\",elevation:0,sx:{bgcolor:'background.paper'},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:declaration.vaccinations.map((vaccination,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{variant:\"outlined\",sx:{height:'100%'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",color:\"primary\",children:vaccination.vaccineName}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mt:1},children:[/*#__PURE__*/_jsx(EventIcon,{sx:{fontSize:'small',mr:1,color:'text.secondary'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:formatDate(vaccination.vaccinationDate)})]}),vaccination.notes&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:1},children:vaccination.notes})]})})},index))})})}),\"                        \",declaration.reviewedAt&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(InfoSection,{title:`Review Information${((_declaration$status=declaration.status)===null||_declaration$status===void 0?void 0:_declaration$status.toLowerCase())==='rejected'?' - Action Required':''}`,elevation:0,sx:{bgcolor:((_declaration$status2=declaration.status)===null||_declaration$status2===void 0?void 0:_declaration$status2.toLowerCase())==='rejected'?'error.light':'background.paper',borderLeft:((_declaration$status3=declaration.status)===null||_declaration$status3===void 0?void 0:_declaration$status3.toLowerCase())==='rejected'?'4px solid #f44336':'none'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Reviewed On\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:formatDate(declaration.reviewedAt)})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Reviewed By\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.reviewedBy||'N/A'})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Review Status\"}),/*#__PURE__*/_jsx(StatusBadge,{status:declaration.status,reviewedBy:declaration.reviewedBy,reviewedAt:declaration.reviewedAt})]}),declaration.reviewNotes&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",sx:{mt:1},children:\"Review Notes\"}),/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",sx:{p:2,mt:1,bgcolor:((_declaration$status4=declaration.status)===null||_declaration$status4===void 0?void 0:_declaration$status4.toLowerCase())==='rejected'?'rgba(244, 67, 54, 0.08)':'inherit'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:declaration.reviewNotes})})]}),((_declaration$status5=declaration.status)===null||_declaration$status5===void 0?void 0:_declaration$status5.toLowerCase())==='rejected'&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sx:{mt:2},children:/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Please submit a new health declaration addressing the feedback provided above.\"})})]})})]})]})})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:4},children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),onClick:handleBack,size:\"large\",children:\"Back to Health Records\"})})]});};export default HealthDeclarationDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","Typography","Paper","Container","Box","Button","Grid","Divider","List","ListItem","ListItemText","Chip","Card","CardContent","CircularProgress","Alert","ArrowBack","ArrowBackIcon","Event","EventIcon","CheckCircle","CheckCircleIcon","Cancel","CancelIcon","Schedule","PendingIcon","CalendarToday","DateIcon","useParams","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","StatusBadge","_ref","status","reviewedBy","reviewedAt","color","icon","label","explanation","toLowerCase","children","variant","sx","fontWeight","mb","ml","InfoSection","_ref2","title","elevation","p","gutterBottom","mt","ItemList","_ref3","items","emptyMessage","filteredItems","Array","isArray","filter","item","trim","length","dense","disablePadding","map","index","py","primary","HealthDeclarationDetailPage","_declaration$status","_declaration$status2","_declaration$status3","_declaration$status4","_declaration$status5","declarationId","navigate","currentUser","declaration","setDeclaration","student","setStudent","loading","setLoading","error","setError","fetchDeclarationDetails","_response$data","token","localStorage","getItem","response","get","headers","Authorization","data","studentCode","studentResponse","studentErr","console","err","_err$response","_err$response$data","message","handleBack","maxWidth","display","justifyContent","alignItems","flexDirection","startIcon","onClick","severity","mr","component","overflow","bgcolor","container","spacing","xs","sm","fullName","fontSize","createdAt","submissionDate","dateOfBirth","classCode","allergies","chronicIllnesses","medicalHistory","emergencyContacts","contact","height","name","isEmergency","size","relationship","phone","my","visionStatus","hearingStatus","specialNeeds","physicalLimitations","mentalHealthConcerns","dietaryRestrictions","vaccinations","vaccination","md","vaccineName","vaccinationDate","notes","borderLeft","reviewNotes"],"sources":["C:/Users/trand/OneDrive/Documents/GitHub/SchoolMedicalManagement/frontend/src/pages/parent/HealthDeclarationDetailPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { \r\n    Typography, \r\n    Paper, \r\n    Container, \r\n    Box, \r\n    Button, \r\n    Grid, \r\n    Divider,\r\n    List,\r\n    ListItem,\r\n    ListItemText,\r\n    Chip,\r\n    Card,\r\n    CardContent,\r\n    CircularProgress,\r\n    Alert\r\n} from '@mui/material';\r\nimport { \r\n    ArrowBack as ArrowBackIcon,\r\n    Event as EventIcon,\r\n    CheckCircle as CheckCircleIcon,\r\n    Cancel as CancelIcon,\r\n    Schedule as PendingIcon,\r\n    CalendarToday as DateIcon\r\n} from '@mui/icons-material';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\n// Helper function to format dates nicely\r\nconst formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n    return new Date(dateString).toLocaleDateString(undefined, options);\r\n};\r\n\r\n// Custom component to display status badge with explanation\r\nconst StatusBadge = ({ status, reviewedBy, reviewedAt }) => {\r\n    let color = 'default';\r\n    let icon = <PendingIcon />;\r\n    let label = status || 'Pending';\r\n    let explanation = '';\r\n    \r\n    switch ((label || '').toLowerCase()) {\r\n        case 'approved':\r\n            color = 'success';\r\n            icon = <CheckCircleIcon />;\r\n            explanation = reviewedBy ? \r\n                `Approved by ${reviewedBy} on ${formatDate(reviewedAt)}` : \r\n                'Your declaration has been approved by the medical staff';\r\n            break;\r\n        case 'rejected':\r\n            color = 'error';\r\n            icon = <CancelIcon />;\r\n            explanation = reviewedBy ? \r\n                `Rejected by ${reviewedBy} on ${formatDate(reviewedAt)}` : \r\n                'Changes are required for your declaration';\r\n            break;\r\n        case 'pending':\r\n        default:\r\n            color = 'warning';\r\n            icon = <PendingIcon />;\r\n            label = 'Pending';\r\n            explanation = 'Your declaration is waiting for review by the medical staff';\r\n            break;\r\n    }\r\n    \r\n    return (\r\n        <Box>\r\n            <Chip \r\n                icon={icon}\r\n                label={label}\r\n                color={color}\r\n                variant=\"outlined\"\r\n                sx={{ \r\n                    fontWeight: 'medium',\r\n                    mb: 1\r\n                }}\r\n            />\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 1 }}>\r\n                {explanation}\r\n            </Typography>\r\n        </Box>\r\n    );\r\n};\r\n\r\n// Component to display info sections with title and content\r\nconst InfoSection = ({ title, children, elevation = 1, sx = {} }) => (\r\n    <Paper elevation={elevation} sx={{ p: 3, mb: 3, ...sx }}>\r\n        <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n            {title}\r\n        </Typography>\r\n        <Box mt={1}>\r\n            {children}\r\n        </Box>\r\n    </Paper>\r\n);\r\n\r\n// Component to display array items like allergies, chronic illnesses\r\nconst ItemList = ({ items, emptyMessage = \"None reported\" }) => {\r\n    const filteredItems = Array.isArray(items) \r\n        ? items.filter(item => item && typeof item === 'string' && item.trim() !== '') \r\n        : [];\r\n    \r\n    if (!filteredItems.length) {\r\n        return <Typography variant=\"body2\" color=\"text.secondary\">{emptyMessage}</Typography>;\r\n    }\r\n    \r\n    return (\r\n        <List dense disablePadding>\r\n            {filteredItems.map((item, index) => (\r\n                <ListItem key={index} disablePadding sx={{ py: 0.5 }}>\r\n                    <ListItemText primary={item} />\r\n                </ListItem>\r\n            ))}\r\n        </List>\r\n    );\r\n};\r\n\r\nconst HealthDeclarationDetailPage = () => {\r\n    const { declarationId } = useParams();\r\n    const navigate = useNavigate();\r\n    const { currentUser } = useContext(AuthContext);\r\n    const [declaration, setDeclaration] = useState(null);\r\n    const [student, setStudent] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    // Fetch declaration data\r\n    useEffect(() => {\r\n        const fetchDeclarationDetails = async () => {\r\n            // Check if declarationId is valid\r\n            if (!declarationId || declarationId === 'undefined' || !currentUser) {\r\n                setError('Invalid declaration ID provided');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n            \r\n            setLoading(true);\r\n            setError(null);\r\n            \r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                // Fetch declaration details\r\n                const response = await axios.get(`/api/health-declaration/${declarationId}`, {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                });\r\n                \r\n                setDeclaration(response.data);\r\n                \r\n                // Also fetch student details if we have a student code\r\n                if (response.data?.studentCode) {\r\n                    try {\r\n                        const studentResponse = await axios.get(`/api/students/${response.data.studentCode}`, {\r\n                            headers: { Authorization: `Bearer ${token}` }\r\n                        });\r\n                        setStudent(studentResponse.data);\r\n                    } catch (studentErr) {\r\n                        console.error('Error fetching student details:', studentErr);\r\n                        // We don't set the main error here as the declaration data was still retrieved\r\n                    }\r\n                }\r\n            } catch (err) {\r\n                console.error('Error fetching declaration details:', err);\r\n                setError('Could not load health declaration details. ' + \r\n                    (err.response?.data?.message || err.message || 'Please try again later.'));\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        \r\n        fetchDeclarationDetails();\r\n    }, [declarationId, currentUser]);\r\n\r\n    // Handle back navigation\r\n    const handleBack = () => {\r\n        navigate('/parent/health-records');\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Container maxWidth=\"md\" sx={{ py: 8 }}>\r\n                <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column', py: 8 }}>\r\n                    <CircularProgress />\r\n                    <Typography variant=\"h6\" sx={{ mt: 2 }}>Loading health declaration...</Typography>\r\n                </Box>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <Container maxWidth=\"md\" sx={{ py: 8 }}>\r\n                <Button \r\n                    startIcon={<ArrowBackIcon />} \r\n                    onClick={handleBack}\r\n                    variant=\"outlined\"\r\n                    sx={{ mb: 3 }}\r\n                >\r\n                    Back to Health Records\r\n                </Button>\r\n                <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n                    {error}\r\n                </Alert>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    if (!declaration) {\r\n        return (\r\n            <Container maxWidth=\"md\" sx={{ py: 8 }}>\r\n                <Button \r\n                    startIcon={<ArrowBackIcon />} \r\n                    onClick={handleBack}\r\n                    variant=\"outlined\"\r\n                    sx={{ mb: 3 }}\r\n                >\r\n                    Back to Health Records\r\n                </Button>\r\n                <Alert severity=\"warning\">\r\n                    Health declaration not found or you may not have permission to view it.\r\n                </Alert>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth=\"md\" sx={{ py: 4 }}>            {/* Header with back button and title */}\r\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n                <Button \r\n                    startIcon={<ArrowBackIcon />} \r\n                    onClick={handleBack}\r\n                    sx={{ mr: 2 }}\r\n                >\r\n                    Back\r\n                </Button>\r\n                <Typography variant=\"h4\" component=\"h1\">\r\n                    Health Declaration Details\r\n                </Typography>\r\n            </Box>\r\n            \r\n            {/* Status Alert */}\r\n            {declaration.status && (\r\n                <Alert \r\n                    severity={\r\n                        declaration.status.toLowerCase() === 'approved' ? 'success' :\r\n                        declaration.status.toLowerCase() === 'rejected' ? 'error' : 'info'\r\n                    }\r\n                    sx={{ mb: 4 }}\r\n                    variant=\"filled\"\r\n                >\r\n                    {declaration.status.toLowerCase() === 'approved' && \"This health declaration has been reviewed and approved by medical staff.\"}\r\n                    {declaration.status.toLowerCase() === 'rejected' && \"This health declaration requires changes. Please review the feedback and submit a new declaration.\"}\r\n                    {declaration.status.toLowerCase() === 'pending' && \"This health declaration is pending review by medical staff.\"}\r\n                </Alert>\r\n            )}\r\n\r\n            {/* Main content */}\r\n            <Paper elevation={3} sx={{ mb: 4, overflow: 'hidden' }}>\r\n                {/* Header with declaration status and date */}\r\n                <Box sx={{ p: 3, bgcolor: 'primary.main', color: 'white' }}>\r\n                    <Grid container alignItems=\"center\" spacing={2}>\r\n                        <Grid item xs={12} sm={8}>\r\n                            <Typography variant=\"h5\">\r\n                                {student?.fullName || 'Student'}'s Health Declaration\r\n                            </Typography>\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n                                <DateIcon sx={{ mr: 1, fontSize: 'small' }} />\r\n                                <Typography variant=\"body2\">\r\n                                    Submitted on {formatDate(declaration.createdAt || declaration.submissionDate)}\r\n                                </Typography>\r\n                            </Box>\r\n                        </Grid>                        <Grid item xs={12} sm={4} sx={{ display: 'flex', justifyContent: {xs: 'flex-start', sm: 'flex-end'} }}>\r\n                            <StatusBadge \r\n                                status={declaration.status || 'Pending'} \r\n                                reviewedBy={declaration.reviewedBy} \r\n                                reviewedAt={declaration.reviewedAt}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Box>\r\n                \r\n                {/* Student information */}\r\n                <Box p={3}>\r\n                    <Grid container spacing={3}>\r\n                        <Grid item xs={12}>\r\n                            <InfoSection title=\"Student Information\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Name</Typography>\r\n                                        <Typography variant=\"body1\">{student?.fullName || 'N/A'}</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Student Code</Typography>\r\n                                        <Typography variant=\"body1\">{declaration.studentCode || 'N/A'}</Typography>\r\n                                    </Grid>\r\n                                    {student?.dateOfBirth && (\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <Typography variant=\"subtitle2\" color=\"text.secondary\">Date of Birth</Typography>\r\n                                            <Typography variant=\"body1\">{formatDate(student.dateOfBirth)}</Typography>\r\n                                        </Grid>\r\n                                    )}\r\n                                    {student?.classCode && (\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <Typography variant=\"subtitle2\" color=\"text.secondary\">Class</Typography>\r\n                                            <Typography variant=\"body1\">{student.classCode}</Typography>\r\n                                        </Grid>\r\n                                    )}\r\n                                </Grid>\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        {/* Medical Information Sections */}\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Allergies\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <ItemList items={declaration.allergies} />\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Chronic Illnesses\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <ItemList items={declaration.chronicIllnesses} />\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <InfoSection title=\"Medical History\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                {declaration.medicalHistory ? (\r\n                                    <Typography variant=\"body1\">{declaration.medicalHistory}</Typography>\r\n                                ) : (\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\">No medical history reported</Typography>\r\n                                )}\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <InfoSection title=\"Emergency Contacts\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                {declaration.emergencyContacts && declaration.emergencyContacts.length > 0 ? (\r\n                                    <Grid container spacing={2}>\r\n                                        {declaration.emergencyContacts.map((contact, index) => (\r\n                                            <Grid item xs={12} sm={6} key={index}>\r\n                                                <Card variant=\"outlined\" sx={{ height: '100%' }}>\r\n                                                    <CardContent>\r\n                                                        <Typography variant=\"subtitle1\" color=\"primary\">\r\n                                                            {contact.name}\r\n                                                            {contact.isEmergency && (\r\n                                                                <Chip \r\n                                                                    label=\"Primary\" \r\n                                                                    size=\"small\" \r\n                                                                    color=\"error\" \r\n                                                                    sx={{ ml: 1 }} \r\n                                                                />\r\n                                                            )}\r\n                                                        </Typography>\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            {contact.relationship}\r\n                                                        </Typography>\r\n                                                        <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                                                            {contact.phone}\r\n                                                        </Typography>\r\n                                                    </CardContent>\r\n                                                </Card>\r\n                                            </Grid>\r\n                                        ))}\r\n                                    </Grid>\r\n                                ) : (\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\">No emergency contacts provided</Typography>\r\n                                )}\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Divider sx={{ my: 2 }} />\r\n                            <Typography variant=\"h6\" gutterBottom>Additional Health Information</Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Vision Status\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <Typography variant=\"body1\">\r\n                                    {declaration.visionStatus || 'Not specified'}\r\n                                </Typography>\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Hearing Status\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <Typography variant=\"body1\">\r\n                                    {declaration.hearingStatus || 'Not specified'}\r\n                                </Typography>\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Special Needs\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <Typography variant=\"body1\">\r\n                                    {declaration.specialNeeds || 'None reported'}\r\n                                </Typography>\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Physical Limitations\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <Typography variant=\"body1\">\r\n                                    {declaration.physicalLimitations || 'None reported'}\r\n                                </Typography>\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Mental Health Concerns\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <Typography variant=\"body1\">\r\n                                    {declaration.mentalHealthConcerns || 'None reported'}\r\n                                </Typography>\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6}>\r\n                            <InfoSection title=\"Dietary Restrictions\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                <Typography variant=\"body1\">\r\n                                    {declaration.dietaryRestrictions || 'None reported'}\r\n                                </Typography>\r\n                            </InfoSection>\r\n                        </Grid>\r\n\r\n                        {/* Vaccinations section */}\r\n                        {declaration.vaccinations && declaration.vaccinations.length > 0 && (\r\n                            <Grid item xs={12}>\r\n                                <InfoSection title=\"Vaccinations\" elevation={0} sx={{ bgcolor: 'background.paper' }}>\r\n                                    <Grid container spacing={2}>\r\n                                        {declaration.vaccinations.map((vaccination, index) => (\r\n                                            <Grid item xs={12} sm={6} md={4} key={index}>\r\n                                                <Card variant=\"outlined\" sx={{ height: '100%' }}>\r\n                                                    <CardContent>\r\n                                                        <Typography variant=\"subtitle1\" color=\"primary\">\r\n                                                            {vaccination.vaccineName}\r\n                                                        </Typography>\r\n                                                        <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\r\n                                                            <EventIcon sx={{ fontSize: 'small', mr: 1, color: 'text.secondary' }} />\r\n                                                            <Typography variant=\"body2\">\r\n                                                                {formatDate(vaccination.vaccinationDate)}\r\n                                                            </Typography>\r\n                                                        </Box>\r\n                                                        {vaccination.notes && (\r\n                                                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                                                                {vaccination.notes}\r\n                                                            </Typography>\r\n                                                        )}\r\n                                                    </CardContent>\r\n                                                </Card>\r\n                                            </Grid>\r\n                                        ))}\r\n                                    </Grid>\r\n                                </InfoSection>\r\n                            </Grid>\r\n                        )}                        {/* Review information if available */}\r\n                        {declaration.reviewedAt && (\r\n                            <Grid item xs={12}>\r\n                                <Divider sx={{ my: 2 }} />\r\n                                <InfoSection \r\n                                    title={`Review Information${declaration.status?.toLowerCase() === 'rejected' ? ' - Action Required' : ''}`} \r\n                                    elevation={0} \r\n                                    sx={{ \r\n                                        bgcolor: declaration.status?.toLowerCase() === 'rejected' ? 'error.light' : 'background.paper',\r\n                                        borderLeft: declaration.status?.toLowerCase() === 'rejected' ? '4px solid #f44336' : 'none',\r\n                                    }}\r\n                                >\r\n                                    <Grid container spacing={2}>\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <Typography variant=\"subtitle2\" color=\"text.secondary\">Reviewed On</Typography>\r\n                                            <Typography variant=\"body1\">{formatDate(declaration.reviewedAt)}</Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <Typography variant=\"subtitle2\" color=\"text.secondary\">Reviewed By</Typography>\r\n                                            <Typography variant=\"body1\">{declaration.reviewedBy || 'N/A'}</Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <Typography variant=\"subtitle2\" color=\"text.secondary\">Review Status</Typography>\r\n                                            <StatusBadge \r\n                                                status={declaration.status} \r\n                                                reviewedBy={declaration.reviewedBy} \r\n                                                reviewedAt={declaration.reviewedAt}\r\n                                            />\r\n                                        </Grid>\r\n                                        {declaration.reviewNotes && (\r\n                                            <Grid item xs={12}>\r\n                                                <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ mt: 1 }}>Review Notes</Typography>\r\n                                                <Paper \r\n                                                    variant=\"outlined\" \r\n                                                    sx={{ \r\n                                                        p: 2, \r\n                                                        mt: 1, \r\n                                                        bgcolor: declaration.status?.toLowerCase() === 'rejected' ? 'rgba(244, 67, 54, 0.08)' : 'inherit',\r\n                                                    }}\r\n                                                >\r\n                                                    <Typography variant=\"body1\">{declaration.reviewNotes}</Typography>\r\n                                                </Paper>\r\n                                            </Grid>\r\n                                        )}\r\n                                        \r\n                                        {declaration.status?.toLowerCase() === 'rejected' && (\r\n                                            <Grid item xs={12} sx={{ mt: 2 }}>\r\n                                                <Alert severity=\"info\">\r\n                                                    Please submit a new health declaration addressing the feedback provided above.\r\n                                                </Alert>\r\n                                            </Grid>\r\n                                        )}\r\n                                    </Grid>\r\n                                </InfoSection>\r\n                            </Grid>\r\n                        )}\r\n                    </Grid>\r\n                </Box>\r\n            </Paper>\r\n            \r\n            {/* Back button */}\r\n            <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<ArrowBackIcon />}\r\n                    onClick={handleBack}\r\n                    size=\"large\"\r\n                >\r\n                    Back to Health Records\r\n                </Button>\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default HealthDeclarationDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}