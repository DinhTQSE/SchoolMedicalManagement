{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import{Snackbar,Alert}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[rememberMe,setRememberMe]=useState(false);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');const[failedAttempts,setFailedAttempts]=useState(0);const[snackbarOpen,setSnackbarOpen]=useState(false);const[snackbarMessage,setSnackbarMessage]=useState('');const[snackbarSeverity,setSnackbarSeverity]=useState('error');const{login,currentUser}=useContext(AuthContext);const navigate=useNavigate();// If user is already logged in, redirect to home\nReact.useEffect(()=>{if(currentUser){// Redirect based on role if currentUser is available\nif(currentUser.roles&&(currentUser.roles.includes('Parent')||currentUser.roles.includes('ROLE_PARENT'))){navigate('/');}else{navigate('/');// Default redirect for other roles or if role is not yet defined\n}}},[currentUser,navigate]);// Check if there are stored failed attempts\nuseEffect(()=>{const storedAttempts=localStorage.getItem('failedLoginAttempts');if(storedAttempts){const attempts=parseInt(storedAttempts,10);setFailedAttempts(attempts);// If there are recent failed attempts, show a notification\nif(attempts>0){const lastAttemptTime=localStorage.getItem('lastFailedLoginTime');const now=new Date().getTime();// Only show notification if the last attempt was within the past hour\nif(lastAttemptTime&&now-parseInt(lastAttemptTime,10)<60*60*1000){setSnackbarMessage(`Warning: ${attempts} failed login attempt${attempts>1?'s':''} detected`);setSnackbarSeverity('warning');setSnackbarOpen(true);}}}},[]);const handleSubmit=async e=>{e.preventDefault();if(!username||!password){setMessage('Please enter both username and password.');setMessageType('error');return;}try{const result=await login(username,password);if(result.success&&result.user){// MODIFIED: check for result.user\n// Reset failed attempts if login is successful\nsetFailedAttempts(0);localStorage.removeItem('failedLoginAttempts');localStorage.removeItem('lastFailedLoginTime');setMessage('Login successful! Redirecting...');setMessageType('success');setSnackbarMessage('Login successful! Welcome back.');setSnackbarSeverity('success');setSnackbarOpen(true);// Redirect based on role\n// setTimeout(() => { // MODIFIED: Removed setTimeout for immediate redirection based on role\nif(result.user.roles&&(result.user.roles.includes('Parent')||result.user.roles.includes('ROLE_PARENT'))){navigate('/');}else{navigate('/');// Default redirect for other roles\n}// }, 1500); // MODIFIED: Removed setTimeout\n}else{// Increment and store failed attempts\nconst newAttempts=failedAttempts+1;setFailedAttempts(newAttempts);localStorage.setItem('failedLoginAttempts',newAttempts);localStorage.setItem('lastFailedLoginTime',new Date().getTime().toString());setMessage(result.message);setMessageType('error');// Display different messages depending on the number of failed attempts\nif(newAttempts>=5){setSnackbarMessage('Security Alert: Multiple failed login attempts detected! Account may be temporarily locked for security.');setSnackbarSeverity('error');}else if(newAttempts>=3){setSnackbarMessage(`Warning: ${newAttempts} failed login attempts. Please verify your credentials carefully.`);setSnackbarSeverity('warning');}else{setSnackbarMessage('Login failed. Please check your credentials and try again.');setSnackbarSeverity('error');}setSnackbarOpen(true);}}catch(error){// Also count system errors as failed attempts\nconst newAttempts=failedAttempts+1;setFailedAttempts(newAttempts);localStorage.setItem('failedLoginAttempts',newAttempts);localStorage.setItem('lastFailedLoginTime',new Date().getTime().toString());setMessage('An error occurred during login. Please try again.');setMessageType('error');setSnackbarMessage('Login failed due to a system error. Please try again later.');setSnackbarSeverity('error');setSnackbarOpen(true);// console.error('Login error:', error);\n}};return/*#__PURE__*/_jsxs(\"section\",{className:\"py-16 bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8 animate-fadeIn\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold mb-4\",children:\"Account Access\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Sign in to access your health management dashboard\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:`mb-6 text-center font-medium rounded-lg py-3 ${messageType==='success'?'bg-green-100 text-green-700':'bg-red-100 text-red-700'}`,children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white p-8 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-gray-700 text-sm font-semibold mb-2\",htmlFor:\"username\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user text-indigo-500 mr-2\"}),\"Username/Email\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"form-input w-full p-3 border border-gray-300 rounded-lg focus:outline-none\",placeholder:\"Enter your username or email\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-gray-700 text-sm font-semibold mb-2\",htmlFor:\"password\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock text-indigo-500 mr-2\"}),\"Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"form-input w-full p-3 border border-gray-300 rounded-lg focus:outline-none\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"remember\",className:\"h-4 w-4 text-indigo-600\",checked:rememberMe,onChange:e=>setRememberMe(e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"remember\",className:\"ml-2 text-sm text-gray-600\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"text-sm text-indigo-600 hover:text-indigo-800 transition-all\",children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"login-btn w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-indigo-700 transition-all flex justify-center items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-in-alt mr-2\"}),\" Sign In\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-6 text-gray-600\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/parent-registration\",className:\"text-indigo-600 font-medium hover:text-indigo-800 transition-all ml-1\",children:\"Register as Parent\"})]})]})]})}),/*#__PURE__*/_jsx(Snackbar,{open:snackbarOpen,autoHideDuration:6000,onClose:()=>setSnackbarOpen(false),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setSnackbarOpen(false),severity:snackbarSeverity,sx:{width:'100%'},children:snackbarMessage})})]});};export default Login;","map":{"version":3,"names":["React","useState","useContext","useEffect","Link","useNavigate","AuthContext","Snackbar","Alert","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","rememberMe","setRememberMe","message","setMessage","messageType","setMessageType","failedAttempts","setFailedAttempts","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","snackbarSeverity","setSnackbarSeverity","login","currentUser","navigate","roles","includes","storedAttempts","localStorage","getItem","attempts","parseInt","lastAttemptTime","now","Date","getTime","handleSubmit","e","preventDefault","result","success","user","removeItem","newAttempts","setItem","toString","error","className","children","onSubmit","htmlFor","type","id","placeholder","value","onChange","target","required","checked","to","open","autoHideDuration","onClose","severity","sx","width"],"sources":["C:/Users/trand/OneDrive/Documents/GitHub/SchoolMedicalManagement/SchoolMedicalManagement/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Snackbar, Alert } from '@mui/material';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState('');\r\n  const [failedAttempts, setFailedAttempts] = useState(0);\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState('');\r\n  const [snackbarSeverity, setSnackbarSeverity] = useState('error');\r\n  \r\n  const { login, currentUser } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  // If user is already logged in, redirect to home\r\n  React.useEffect(() => {\r\n    if (currentUser) {\r\n      // Redirect based on role if currentUser is available\r\n      if (currentUser.roles && (currentUser.roles.includes('Parent') || currentUser.roles.includes('ROLE_PARENT'))) {\r\n        navigate('/');\r\n      } else {\r\n        navigate('/'); // Default redirect for other roles or if role is not yet defined\r\n      }\r\n    }\r\n  }, [currentUser, navigate]);\r\n\r\n  // Check if there are stored failed attempts\r\n  useEffect(() => {\r\n    const storedAttempts = localStorage.getItem('failedLoginAttempts');\r\n    if (storedAttempts) {\r\n      const attempts = parseInt(storedAttempts, 10);\r\n      setFailedAttempts(attempts);\r\n      \r\n      // If there are recent failed attempts, show a notification\r\n      if (attempts > 0) {\r\n        const lastAttemptTime = localStorage.getItem('lastFailedLoginTime');\r\n        const now = new Date().getTime();\r\n        \r\n        // Only show notification if the last attempt was within the past hour\r\n        if (lastAttemptTime && now - parseInt(lastAttemptTime, 10) < 60 * 60 * 1000) {\r\n          setSnackbarMessage(`Warning: ${attempts} failed login attempt${attempts > 1 ? 's' : ''} detected`);\r\n          setSnackbarSeverity('warning');\r\n          setSnackbarOpen(true);\r\n        }\r\n      }\r\n    }\r\n  }, []);\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!username || !password) {\r\n      setMessage('Please enter both username and password.');\r\n      setMessageType('error');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const result = await login(username, password);\r\n      \r\n      if (result.success && result.user) { // MODIFIED: check for result.user\r\n        // Reset failed attempts if login is successful\r\n        setFailedAttempts(0);\r\n        localStorage.removeItem('failedLoginAttempts');\r\n        localStorage.removeItem('lastFailedLoginTime');\r\n        \r\n        setMessage('Login successful! Redirecting...');\r\n        setMessageType('success');\r\n        \r\n        setSnackbarMessage('Login successful! Welcome back.');\r\n        setSnackbarSeverity('success');\r\n        setSnackbarOpen(true);\r\n        \r\n        // Redirect based on role\r\n        // setTimeout(() => { // MODIFIED: Removed setTimeout for immediate redirection based on role\r\n          if (result.user.roles && (result.user.roles.includes('Parent') || result.user.roles.includes('ROLE_PARENT'))) {\r\n            navigate('/');\r\n          } else {\r\n            navigate('/'); // Default redirect for other roles\r\n          }\r\n        // }, 1500); // MODIFIED: Removed setTimeout\r\n      } else {\r\n        // Increment and store failed attempts\r\n        const newAttempts = failedAttempts + 1;\r\n        setFailedAttempts(newAttempts);\r\n        localStorage.setItem('failedLoginAttempts', newAttempts);\r\n        localStorage.setItem('lastFailedLoginTime', new Date().getTime().toString());\r\n        \r\n        setMessage(result.message);\r\n        setMessageType('error');\r\n        \r\n        // Display different messages depending on the number of failed attempts\r\n        if (newAttempts >= 5) {\r\n          setSnackbarMessage('Security Alert: Multiple failed login attempts detected! Account may be temporarily locked for security.');\r\n          setSnackbarSeverity('error');\r\n        } else if (newAttempts >= 3) {\r\n          setSnackbarMessage(`Warning: ${newAttempts} failed login attempts. Please verify your credentials carefully.`);\r\n          setSnackbarSeverity('warning');\r\n        } else {\r\n          setSnackbarMessage('Login failed. Please check your credentials and try again.');\r\n          setSnackbarSeverity('error');\r\n        }\r\n        setSnackbarOpen(true);\r\n      }\r\n    } catch (error) {\r\n      // Also count system errors as failed attempts\r\n      const newAttempts = failedAttempts + 1;\r\n      setFailedAttempts(newAttempts);\r\n      localStorage.setItem('failedLoginAttempts', newAttempts);\r\n      localStorage.setItem('lastFailedLoginTime', new Date().getTime().toString());\r\n      \r\n      setMessage('An error occurred during login. Please try again.');\r\n      setMessageType('error');\r\n      setSnackbarMessage('Login failed due to a system error. Please try again later.');\r\n      setSnackbarSeverity('error');\r\n      setSnackbarOpen(true);\r\n      // console.error('Login error:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"py-16 bg-gray-50\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"max-w-md mx-auto login-container\">\r\n          <div className=\"text-center mb-8 animate-fadeIn\">\r\n            <h2 className=\"text-4xl font-bold mb-4\">Account Access</h2>\r\n            <p className=\"text-gray-600\">Sign in to access your health management dashboard</p>\r\n          </div>\r\n\r\n          {message && (\r\n            <div className={`mb-6 text-center font-medium rounded-lg py-3 ${\r\n              messageType === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'\r\n            }`}>\r\n              {message}\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"bg-white p-8 rounded-lg shadow-lg\">\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-gray-700 text-sm font-semibold mb-2\" htmlFor=\"username\">\r\n                <i className=\"fas fa-user text-indigo-500 mr-2\"></i>Username/Email\r\n              </label>\r\n              <input \r\n                type=\"text\" \r\n                id=\"username\" \r\n                className=\"form-input w-full p-3 border border-gray-300 rounded-lg focus:outline-none\" \r\n                placeholder=\"Enter your username or email\" \r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                required \r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-gray-700 text-sm font-semibold mb-2\" htmlFor=\"password\">\r\n                <i className=\"fas fa-lock text-indigo-500 mr-2\"></i>Password\r\n              </label>\r\n              <input \r\n                type=\"password\" \r\n                id=\"password\" \r\n                className=\"form-input w-full p-3 border border-gray-300 rounded-lg focus:outline-none\" \r\n                placeholder=\"Enter your password\" \r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required \r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div className=\"flex items-center\">\r\n                <input \r\n                  type=\"checkbox\" \r\n                  id=\"remember\" \r\n                  className=\"h-4 w-4 text-indigo-600\"\r\n                  checked={rememberMe}\r\n                  onChange={(e) => setRememberMe(e.target.checked)}\r\n                />\r\n                <label htmlFor=\"remember\" className=\"ml-2 text-sm text-gray-600\">Remember me</label>\r\n              </div>\r\n              <Link to=\"/forgot-password\" className=\"text-sm text-indigo-600 hover:text-indigo-800 transition-all\">Forgot Password?</Link>\r\n            </div>\r\n\r\n            <button \r\n              type=\"submit\" \r\n              className=\"login-btn w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-indigo-700 transition-all flex justify-center items-center\"\r\n            >\r\n              <i className=\"fas fa-sign-in-alt mr-2\"></i> Sign In\r\n            </button>\r\n\r\n            <p className=\"text-center mt-6 text-gray-600\">\r\n              Don't have an account? \r\n              <Link to=\"/parent-registration\" className=\"text-indigo-600 font-medium hover:text-indigo-800 transition-all ml-1\">\r\n                Register as Parent\r\n              </Link>\r\n            </p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Notification Snackbar for failed login attempts */}\r\n      <Snackbar\r\n        open={snackbarOpen}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbarOpen(false)}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbarOpen(false)} \r\n          severity={snackbarSeverity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbarMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}